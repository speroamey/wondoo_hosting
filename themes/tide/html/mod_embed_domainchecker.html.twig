<!DOCTYPE html>
<html>
   <head>
      <title>Check domain</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta19/dist/css/tabler.min.css">
   </head>
   <body>
      <form method="post" action="" class="domainsearch" id="domain-checker">
         <input type="hidden" name="CSRFToken" value="{{ CSRFToken }}"/>
         <fieldset class="form-fieldset">
            <div class="row">
               <div class="col-auto">
                  <input type="text" class="form-control" id="dsearch" value="" name="sld" />
               </div>
               <div class="col-auto">
                  <select class="form-select" id="dsearch" name="tld">
                     <option value=".com" label=".com">.com</option>
                     <option value=".asia" label=".asia">.asia</option>
                     <option value=".biz" label=".biz">.biz</option>
                     <option value=".bz" label=".bz">.bz</option>
                     <option value=".ca" label=".ca">.ca</option>
                     <option value=".cc" label=".cc">.cc</option>
                     <option value=".de" label=".de">.de</option>
                     <option value=".es" label=".es">.es</option>
                     <option value=".eu" label=".eu">.eu</option>
                     <option value=".in" label=".in">.in</option>
                     <option value=".info" label=".info">.info</option>
                     <option value=".me" label=".me">.me</option>
                     <option value=".mobi" label=".mobi">.mobi</option>
                     <option value=".name" label=".name">.name</option>
                     <option value=".net" label=".net">.net</option>
                     <option value=".org" label=".org">.org</option>
                     <option value=".ru" label=".ru">.ru</option>
                     <option value=".tel" label=".tel">.tel</option>
                     <option value=".tv" label=".tv">.tv</option>
                     <option value=".us" label=".us">.us</option>
                     <option value=".ws" label=".ws">.ws</option>
                     <option value=".xxx" label=".xxx">.xxx</option>
                  </select>
               </div>
               <div class="col-auto">
                  <button class="btn btn-primary" type="submit">Search</button>
               </div>
            </div>
         </fieldset>
      </form>
      <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta19/dist/js/tabler.min.js"></script>
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
      <script>
         $(function() {
             $('#domain-checker').on('submit', function(event) {
                 $.post("{{ constant('SYSTEM_URL') }}api/guest/servicedomain/check",
                 $(this).serialize(),
                 function(json) {
                     if (json.error) {
                         alert(json.error.message);
                     } else if (json.result) {
                         alert('Domain is available');
                     } else {
                         alert('Domain is already registered');
                     }
                 }, 'json');
         
                 return false;
             });
         });
      </script>
   </body>
</html>